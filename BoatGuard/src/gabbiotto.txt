# funzione di decodifica del gabbiotto
void decodificaMessaggioLoRa() {
    int packetSize = lora->parsePacket();
    if (packetSize) {
        String messaggioCriptato = "";
        
        // Ignoriamo i primi due byte (destinazione e mittente)
        lora->read();
        lora->read();

        // Leggiamo la lunghezza del messaggio
        byte lunghezza = lora->read();
        
        // Leggiamo il messaggio cifrato
        while (lora->available()) {
            messaggioCriptato += (char)lora->read();
        }

        // Decifriamo il messaggio
        String messaggio = criptaMessaggio(messaggioCriptato.c_str());

        Serial.print("Messaggio ricevuto (cifrato): ");
        Serial.println(messaggioCriptato);
        Serial.print("Messaggio decifrato: ");
        Serial.println(messaggio);
    }
}